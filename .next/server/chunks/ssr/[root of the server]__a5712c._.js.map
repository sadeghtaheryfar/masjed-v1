{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/taher/OneDrive/Documents/GitHub/masjed-v1/app/layout.jsx"],"sourcesContent":["\"use client\";\r\nimport \"../styles/globals.css\";\r\nimport { Suspense, useEffect, useState } from \"react\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport axios from \"axios\";\r\n// export const metadata = {\r\n//   title: \" masjed \",\r\n//   description: \"Generated by create next app\",\r\n// };\r\n\r\nexport default function RootLayout({ children }) {\r\n  const router = useRouter();\r\n  const params = useSearchParams();\r\n\r\n  useEffect(() => {\r\n    const fetching = async () => {\r\n      const accessToken = Cookies.get(\"token\");\r\n\r\n      const token = params.get(\"jwt\");\r\n\r\n      if (token) {\r\n        Cookies.set(\"token\", token);\r\n        window.history.replaceState(null, \"\", \"/\");\r\n        return;\r\n      }\r\n      if (!accessToken) {\r\n        try {\r\n          const url = await axios.get(\"/api/url\");\r\n          if (url.data) {\r\n            router.push(url.data.verify_url);\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n        // router.push(\"/\");\r\n      } else {\r\n        console.log(\"Token exists:\", accessToken);\r\n      }\r\n    };\r\n    fetching();\r\n  }, []);\r\n\r\n  return (\r\n    <html dir=\"rtl\" lang=\"fa\">\r\n      <body className=\"relative\">\r\n        <Suspense>{children}</Suspense>\r\n      </body>\r\n    </html>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;;AAWe,SAAS,WAAW,EAAE,QAAQ,EAAE;IAC7C,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,kBAAe,AAAD;IAE7B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,WAAW;YACf,MAAM,cAAc,qJAAA,CAAA,UAAO,CAAC,GAAG,CAAC;YAEhC,MAAM,QAAQ,OAAO,GAAG,CAAC;YAEzB,IAAI,OAAO;gBACT,qJAAA,CAAA,UAAO,CAAC,GAAG,CAAC,SAAS;gBACrB,OAAO,OAAO,CAAC,YAAY,CAAC,MAAM,IAAI;gBACtC;YACF;YACA,IAAI,CAAC,aAAa;gBAChB,IAAI;oBACF,MAAM,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC;oBAC5B,IAAI,IAAI,IAAI,EAAE;wBACZ,OAAO,IAAI,CAAC,IAAI,IAAI,CAAC,UAAU;oBACjC;gBACF,EAAE,OAAO,OAAO;oBACd,QAAQ,GAAG,CAAC;gBACd;YACA,oBAAoB;YACtB,OAAO;gBACL,QAAQ,GAAG,CAAC,iBAAiB;YAC/B;QACF;QACA;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAK,KAAI;QAAM,MAAK;kBACnB,cAAA,8OAAC;YAAK,WAAU;sBACd,cAAA,8OAAC,qMAAA,CAAA,WAAQ;0BAAE;;;;;;;;;;;;;;;;AAInB"}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}