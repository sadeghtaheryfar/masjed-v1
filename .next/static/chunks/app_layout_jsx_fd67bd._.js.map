{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/taher/OneDrive/Documents/GitHub/masjed-v1/app/layout.jsx"],"sourcesContent":["\"use client\";\r\nimport \"../styles/globals.css\";\r\nimport { Suspense, useEffect, useState } from \"react\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport axios from \"axios\";\r\n// export const metadata = {\r\n//   title: \" masjed \",\r\n//   description: \"Generated by create next app\",\r\n// };\r\n\r\nexport default function RootLayout({ children }) {\r\n  const router = useRouter();\r\n  const params = useSearchParams();\r\n\r\n  useEffect(() => {\r\n    const fetching = async () => {\r\n      const accessToken = Cookies.get(\"token\");\r\n\r\n      const token = params.get(\"jwt\");\r\n\r\n      if (token) {\r\n        Cookies.set(\"token\", token);\r\n        window.history.replaceState(null, \"\", \"/\");\r\n        return;\r\n      }\r\n      if (!accessToken) {\r\n        try {\r\n          const url = await axios.get(\"/api/url\");\r\n          if (url.data) {\r\n            router.push(url.data.verify_url);\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n        // router.push(\"/\");\r\n      } else {\r\n        console.log(\"Token exists:\", accessToken);\r\n      }\r\n    };\r\n    fetching();\r\n  }, []);\r\n\r\n  return (\r\n    <html dir=\"rtl\" lang=\"fa\">\r\n      <body className=\"relative\">\r\n        <Suspense>{children}</Suspense>\r\n      </body>\r\n    </html>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;;AAWe,SAAS,WAAW,EAAE,QAAQ,EAAE;;IAC7C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,kBAAe,AAAD;IAE7B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,MAAM;iDAAW;oBACf,MAAM,cAAc,wJAAA,CAAA,UAAO,CAAC,GAAG,CAAC;oBAEhC,MAAM,QAAQ,OAAO,GAAG,CAAC;oBAEzB,IAAI,OAAO;wBACT,wJAAA,CAAA,UAAO,CAAC,GAAG,CAAC,SAAS;wBACrB,OAAO,OAAO,CAAC,YAAY,CAAC,MAAM,IAAI;wBACtC;oBACF;oBACA,IAAI,CAAC,aAAa;wBAChB,IAAI;4BACF,MAAM,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAC;4BAC5B,IAAI,IAAI,IAAI,EAAE;gCACZ,OAAO,IAAI,CAAC,IAAI,IAAI,CAAC,UAAU;4BACjC;wBACF,EAAE,OAAO,OAAO;4BACd,QAAQ,GAAG,CAAC;wBACd;oBACA,oBAAoB;oBACtB,OAAO;wBACL,QAAQ,GAAG,CAAC,iBAAiB;oBAC/B;gBACF;;YACA;QACF;+BAAG,EAAE;IAEL,qBACE,6LAAC;QAAK,KAAI;QAAM,MAAK;kBACnB,cAAA,6LAAC;YAAK,WAAU;sBACd,cAAA,6LAAC,6JAAA,CAAA,WAAQ;0BAAE;;;;;;;;;;;;;;;;AAInB;GAvCwB;;QACP,qIAAA,CAAA,YAAS;QACT,qIAAA,CAAA,kBAAe;;;KAFR"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}